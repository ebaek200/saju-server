# =========================================
# 12운성(長生十二運) 계산 모듈
# 일간 기준 지지 위치에 따른 운성 계산
# =========================================

# 10천간 완전표
twelve_state_table = {
    "갑": ["해", "자", "축", "인", "묘", "진", "사", "오", "미", "신", "유", "술"],
    "을": ["오", "미", "신", "유", "술", "해", "자", "축", "인", "묘", "진", "사"],
    "병": ["인", "묘", "진", "사", "오", "미", "신", "유", "술", "해", "자", "축"],
    "정": ["유", "술", "해", "자", "축", "인", "묘", "진", "사", "오", "미", "신"],
    "무": ["인", "묘", "진", "사", "오", "미", "신", "유", "술", "해", "자", "축"],
    "기": ["유", "술", "해", "자", "축", "인", "묘", "진", "사", "오", "미", "신"],
    "경": ["사", "오", "미", "신", "유", "술", "해", "자", "축", "인", "묘", "진"],
    "신": ["자", "축", "인", "묘", "진", "사", "오", "미", "신", "유", "술", "해"],
    "임": ["신", "유", "술", "해", "자", "축", "인", "묘", "진", "사", "오", "미"],
    "계": ["묘", "진", "사", "오", "미", "신", "유", "술", "해", "자", "축", "인"]
}

twelve_state_names = [
    "장생(長生)", "목욕(沐浴)", "관대(冠帶)", "건록(建祿)",
    "제왕(帝旺)", "쇠(衰)", "병(病)", "사(死)",
    "묘(墓)", "절(絶)", "태(胎)", "양(養)"
]


def calc_twelve_state(day_master, branch):
    """
    일간 기준으로 지지(branch)의 12운성 반환
    """
    seq = twelve_state_table[day_master]
    idx = seq.index(branch)
    return twelve_state_names[idx]
