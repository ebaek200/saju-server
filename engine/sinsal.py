# =========================================
# 12신살 계산 모듈
# 연지 기준
# =========================================

sinsal_table = {
    "자": {"역마": "인", "도화": "유", "장성": "자", "반안": "축"},
    "축": {"역마": "해", "도화": "오", "장성": "축", "반안": "자"},
    "인": {"역마": "신", "도화": "묘", "장성": "인", "반안": "해"},
    "묘": {"역마": "사", "도화": "자", "장성": "묘", "반안": "인"},
    "진": {"역마": "인", "도화": "유", "장성": "진", "반안": "묘"},
    "사": {"역마": "해", "도화": "오", "장성": "사", "반안": "진"},
    "오": {"역마": "신", "도화": "묘", "장성": "오", "반안": "사"},
    "미": {"역마": "사", "도화": "자", "장성": "미", "반안": "오"},
    "신": {"역마": "인", "도화": "유", "장성": "신", "반안": "미"},
    "유": {"역마": "해", "도화": "오", "장성": "유", "반안": "신"},
    "술": {"역마": "신", "도화": "묘", "장성": "술", "반안": "유"},
    "해": {"역마": "사", "도화": "자", "장성": "해", "반안": "술"}
}


def calc_sinsal(year_branch, branch_list):
    """
    연지 기준 신살 계산
    branch_list = [월지, 일지, 시지]
    """
    result = []
    table = sinsal_table.get(year_branch, {})
    for name, target in table.items():
        if target in branch_list:
            result.append(name)
    return result
